{"version":3,"sources":["mn-option/mn-option.directive.js","app.js"],"names":["mnOptionDirective","$parse","$timeout","controller","$scope","$element","$attrs","name","attr","ngModel","split","length","find","removeAttribute","querySelector","link","scope","element","attributes","modelValue","angular","equals","value","assign","on","event","target","blur","$apply","dirtyLabel","removeChild","restrict","require","module","$inject","directive"],"mappings":"YAIA,SAASA,mBAAkBC,OAAQC,UAQjC,QAASC,YAAWC,OAAQC,SAAUC,QACpC,GAAMC,MAAOF,SAASG,KAAK,SACtBF,OAAOG,QAAQC,MAAM,KAAKJ,OAAOG,QAAQC,MAAM,KAAKC,OAAS,EAElEN,UAASG,KAAK,OAAQD,MACtBF,SAASO,KAAK,SAASJ,KAAK,OAAQD,MACpCF,SAAS,GAAGQ,gBAAgB,WAC5BR,SAAS,GAAGS,cAAc,SAASD,gBAAgB,WAGrD,QAASE,MAAKC,MAAOC,QAASC,YAC5B,GAAMC,YAAalB,OAAOiB,WAAWT,SAASO,MACzBI,SAAQC,OAAOJ,QAAQ,GAAGK,MAAOH,aAGpDjB,SAAS,WAEPe,QAAQ,GAAGK,MAAQH,WACnBlB,OAAOiB,WAAWT,SAASc,OAAOP,MAAOC,QAAQ,GAAGK,QAAnD,GAGLL,QAAQL,KAAK,SAASY,GAAG,SAAU,SAAAC,OAEjCxB,OAAOiB,WAAWT,SAASc,OAAOP,MAAOC,QAAQ,GAAGK,OACpDL,QAAQ,GAAGK,MAAQL,QAAQ,GAAGK,MAC9BG,MAAMC,OAAOC,OACbX,MAAMY,UAER,IAAMC,YAAaZ,QAAQ,GAAGH,cAAc,gBACxCe,aACFZ,QAAQ,GAAGa,YAAYD,YArC3B,OACEE,SAAU,IACV5B,WAAAA,WACAY,KAAAA,KACAiB,QAAS,WCTbZ,QAAQa,OAAO,gBDCfjC,kBAAkBkC,SAAW,SAAU,YADvCd,QACGa,OAAO,aACPE,UAAU,WAAYnC","file":"angular-mn-option.js","sourcesContent":["angular\n  .module('mn-option')\n  .directive('mnOption', mnOptionDirective)\n\nfunction mnOptionDirective($parse, $timeout) {\n  return {\n    restrict: 'E',\n    controller,\n    link,\n    require: 'ngModel',\n  }\n\n  function controller($scope, $element, $attrs) {\n    const name = $element.attr('name')\n      || $attrs.ngModel.split('.')[$attrs.ngModel.split('.').length - 1]\n\n    $element.attr('name', name)\n    $element.find('input').attr('name', name)\n    $element[0].removeAttribute('checked')\n    $element[0].querySelector('input').removeAttribute('checked')\n  }\n\n  function link(scope, element, attributes) {\n    const modelValue = $parse(attributes.ngModel)(scope)\n    const modelApplied = angular.equals(element[0].value, modelValue)\n\n    if (!modelApplied) {\n      $timeout(() => {\n        element[0].value = modelValue\n        $parse(attributes.ngModel).assign(scope, element[0].value)\n      }, 0)\n    }\n\n    element.find('input').on('change', event => {\n      $parse(attributes.ngModel).assign(scope, element[0].value)\n      element[0].value = element[0].value\n      event.target.blur()\n      scope.$apply()\n    })\n\n    const dirtyLabel = element[0].querySelector('label + label')\n    if (dirtyLabel) {\n      element[0].removeChild(dirtyLabel)\n    }\n  }\n}\n","angular.module('mn-option', [])\n"]}