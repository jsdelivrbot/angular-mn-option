{"version":3,"sources":["mn-option/mn-option.directive.js","app.js"],"names":["mnOptionDirective","$parse","link","scope","element","attributes","name","attr","ngModel","split","length","modelValue","modelApplied","angular","equals","value","assign","find","on","option","event","target","closest","$apply","restrict","require","module","$inject","directive"],"mappings":"YAIA,SAASA,mBAAkBC,QAOzB,QAASC,MAAKC,MAAOC,QAASC,YAC5B,GAAMC,MAAOF,QAAQG,KAAK,SACrBF,WAAWG,QAAQC,MAAM,KAAKJ,WAAWG,QAAQC,MAAM,KAAKC,OAAS,GACpEC,WAAaV,OAAOI,WAAWG,SAASL,OACxCS,aAAeC,QAAQC,OAAOV,QAAQ,GAAGW,MAAOJ,WAEtDP,SAAQG,KAAK,OAAQD,MAEhBM,eACHR,QAAQ,GAAGW,MAAQJ,WACnBV,OAAOI,WAAWG,SAASQ,OAAOb,MAAOC,QAAQ,GAAGW,QAGtDX,QAAQa,KAAK,SAASC,GAAG,SAAU,WAEjC,GAAMC,QAASC,MAAMC,OAAOC,QAAQ,YACpCrB,QAAOI,WAAWG,SAASQ,OAAOb,MAAOgB,OAAOJ,OAChDZ,MAAMoB,WAvBV,OACEC,SAAU,IACVtB,KAAAA,KACAuB,QAAS,WCRbZ,QAAQa,OAAO,gBDCf1B,kBAAkB2B,SAAW,UAD7Bd,QACGa,OAAO,aACPE,UAAU,WAAY5B","file":"angular-mn-option.js","sourcesContent":["angular\n  .module('mn-option')\n  .directive('mnOption', mnOptionDirective)\n\nfunction mnOptionDirective($parse) {\n  return {\n    restrict: 'E',\n    link,\n    require: 'ngModel',\n  }\n\n  function link(scope, element, attributes) {\n    const name = element.attr('name')\n      || attributes.ngModel.split('.')[attributes.ngModel.split('.').length - 1]\n    const modelValue = $parse(attributes.ngModel)(scope)\n    const modelApplied = angular.equals(element[0].value, modelValue)\n\n    element.attr('name', name)\n\n    if (!modelApplied) {\n      element[0].value = modelValue\n      $parse(attributes.ngModel).assign(scope, element[0].value)\n    }\n\n    element.find('input').on('change', () => {\n      const option = event.target.closest('mn-option')\n      $parse(attributes.ngModel).assign(scope, option.value)\n      scope.$apply()\n    })\n\n    // const dirtyInput = element[0].querySelector('label + label')\n    // if (dirtyLabel) {\n    //   element[0].removeChild(dirtyLabel)\n    // }\n    // const input = element.find('input')\n  }\n}\n","angular.module('mn-option', [])\n"]}